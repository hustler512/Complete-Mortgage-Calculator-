<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-658GVWQPQH"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-658GVWQPQH');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Mortgage Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"></script>
</head>
<body class="bg-gray-100 font-sans">
    <div id="app" class="container mx-auto px-4 py-8">
        <!-- Header Ad Container -->
<div class="w-full py-4 bg-gray-50 border border-gray-200 rounded-lg mb-6 text-center">
    <div id="headerAd" class="mx-auto" style="min-height: 90px;">
        <!-- Google AdSense or other ad code goes here -->
        <p class="text-gray-400 text-sm">Advertisement</p>
    </div>
</div>
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-blue-800 mb-4">Complete Mortgage Calculator</h1>
            <p class="text-gray-600">Your comprehensive mortgage planning tool</p>
        </header>

        <nav class="mb-8"> 
            <div class="flex justify-center space-x-4 flex-wrap">
  <a href="index1.html">Menu</a>     
  <a href="about.html">About</a>
  <a href="privacy-policy.html">Privacy Policy</a>
  <a href="terms-of-service.html">Terms of Service</a>
  <a href="contact.html">Contact</a>
                <button onclick="showCalculator('basic')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 m-1">Menu</button>
                <button onclick="showCalculator('basic')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 m-1">Basic Mortgage</button>
                <button onclick="showCalculator('refinance')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 m-1">Refinance</button>
                <button onclick="showCalculator('compare')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 m-1">Loan Comparison</button>
                <button onclick="showCalculator('affordability')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 m-1">Affordability</button>
                <button onclick="showCalculator('extra-payment')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 m-1">Extra Payment</button>
                <button onclick="showCalculator('arm')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 m-1">ARM Comparison</button>
                <button onclick="showCalculator('closing-costs')" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 m-1">Closing Costs</button>
            </div>
        </nav>

        <main id="calculatorContainer" class="bg-white shadow-lg rounded-lg p-8">
            <!-- Calculator content will be dynamically loaded here -->
        </main>

        <div id="resultsChart" class="mt-8 hidden">
            <canvas id="mortgageChart" class="w-full h-64"></canvas>
        </div>
        <!-- Footer Ad Container -->
<footer class="mt-12 pt-6 border-t border-gray-200">
    <div class="w-full py-4 bg-gray-50 border border-gray-200 rounded-lg mb-6 text-center">
        <div id="footerAd" class="mx-auto" style="min-height: 90px;">
            <!-- Google AdSense or other ad code goes here -->
            <p class="text-gray-400 text-sm">Advertisement</p>
        </div>
    </div>
    <p class="text-center text-gray-500 text-sm mt-4">Â© 2025 Complete Mortgage Calculator</p>
</footer>
    </div>

    <script>
        // Global chart variable
        let mortgageChart = null;

        // Calculator configurations
        const calculators = {
            basic: {
                title: 'Basic Mortgage Calculator',
                fields: [
                    { name: 'Home Price', id: 'homePrice', type: 'number', placeholder: 'Enter home price' },
                    { name: 'Down Payment', id: 'downPayment', type: 'number', placeholder: 'Enter down payment' },
                    { name: 'Interest Rate', id: 'interestRate', type: 'number', placeholder: 'Annual interest rate' },
                    { name: 'Loan Term', id: 'loanTerm', type: 'number', placeholder: 'Loan term in years' }
                ],
                calculate: function() {
                    const homePrice = parseFloat(document.getElementById('homePrice').value);
                    const downPayment = parseFloat(document.getElementById('downPayment').value);
                    const interestRate = parseFloat(document.getElementById('interestRate').value) / 100 / 12;
                    const loanTerm = parseFloat(document.getElementById('loanTerm').value) * 12;
                    
                    const loanAmount = homePrice - downPayment;
                    const monthlyPayment = loanAmount * (interestRate * Math.pow(1 + interestRate, loanTerm)) / (Math.pow(1 + interestRate, loanTerm) - 1);
                    
                    return {
                        monthlyPayment: monthlyPayment.toFixed(2),
                        totalPayment: (monthlyPayment * loanTerm).toFixed(2),
                        totalInterest: ((monthlyPayment * loanTerm) - loanAmount).toFixed(2)
                    };
                }
            },
            refinance: {
                title: 'Refinance Calculator',
                fields: [
                    { name: 'Current Loan Balance', id: 'currentBalance', type: 'number', placeholder: 'Current loan balance' },
                    { name: 'Current Interest Rate', id: 'currentRate', type: 'number', placeholder: 'Current interest rate' },
                    { name: 'New Interest Rate', id: 'newRate', type: 'number', placeholder: 'New interest rate' },
                    { name: 'Remaining Loan Term', id: 'remainingTerm', type: 'number', placeholder: 'Remaining loan term' }
                ],
                calculate: function() {
                    const currentBalance = parseFloat(document.getElementById('currentBalance').value);
                    const currentRate = parseFloat(document.getElementById('currentRate').value) / 100 / 12;
                    const newRate = parseFloat(document.getElementById('newRate').value) / 100 / 12;
                    const remainingTerm = parseFloat(document.getElementById('remainingTerm').value) * 12;
                    
                    const currentMonthlyPayment = currentBalance * (currentRate * Math.pow(1 + currentRate, remainingTerm)) / (Math.pow(1 + currentRate, remainingTerm) - 1);
                    const newMonthlyPayment = currentBalance * (newRate * Math.pow(1 + newRate, remainingTerm)) / (Math.pow(1 + newRate, remainingTerm) - 1);
                    
                    return {
                        currentMonthlyPayment: currentMonthlyPayment.toFixed(2),
                        newMonthlyPayment: newMonthlyPayment.toFixed(2),
                        monthlySavings: (currentMonthlyPayment - newMonthlyPayment).toFixed(2)
                    };
                }
            },
            compare: {
                title: 'Loan Comparison Calculator',
                fields: [
                    { name: 'Loan 1 Amount', id: 'loan1Amount', type: 'number', placeholder: 'Loan 1 amount' },
                    { name: 'Loan 1 Interest Rate', id: 'loan1Rate', type: 'number', placeholder: 'Loan 1 interest rate' },
                    { name: 'Loan 1 Term', id: 'loan1Term', type: 'number', placeholder: 'Loan 1 term (years)' },
                    { name: 'Loan 2 Amount', id: 'loan2Amount', type: 'number', placeholder: 'Loan 2 amount' },
                    { name: 'Loan 2 Interest Rate', id: 'loan2Rate', type: 'number', placeholder: 'Loan 2 interest rate' },
                    { name: 'Loan 2 Term', id: 'loan2Term', type: 'number', placeholder: 'Loan 2 term (years)' }
                ],
                calculate: function() {
                    const loan1Amount = parseFloat(document.getElementById('loan1Amount').value);
                    const loan1Rate = parseFloat(document.getElementById('loan1Rate').value) / 100 / 12;
                    const loan1Term = parseFloat(document.getElementById('loan1Term').value) * 12;
                    
                    const loan2Amount = parseFloat(document.getElementById('loan2Amount').value);
                    const loan2Rate = parseFloat(document.getElementById('loan2Rate').value) / 100 / 12;
                    const loan2Term = parseFloat(document.getElementById('loan2Term').value) * 12;
                    
                    const loan1MonthlyPayment = loan1Amount * (loan1Rate * Math.pow(1 + loan1Rate, loan1Term)) / (Math.pow(1 + loan1Rate, loan1Term) - 1);
                    const loan2MonthlyPayment = loan2Amount * (loan2Rate * Math.pow(1 + loan2Rate, loan2Term)) / (Math.pow(1 + loan2Rate, loan2Term) - 1);
                    
                    return {
                        loan1MonthlyPayment: loan1MonthlyPayment.toFixed(2),
                        loan1TotalPayment: (loan1MonthlyPayment * loan1Term).toFixed(2),
                        loan2MonthlyPayment: loan2MonthlyPayment.toFixed(2),
                        loan2TotalPayment: (loan2MonthlyPayment * loan2Term).toFixed(2)
                    };
                }
            },
            affordability: {
                title: 'Mortgage Affordability Calculator',
                fields: [
                    { name: 'Annual Income', id: 'annualIncome', type: 'number', placeholder: 'Your annual income' },
                    { name: 'Monthly Debt', id: 'monthlyDebt', type: 'number', placeholder: 'Monthly debt payments' },
                    { name: 'Down Payment', id: 'downPayment', type: 'number', placeholder: 'Down payment amount' },
                    { name: 'Interest Rate', id: 'interestRate', type: 'number', placeholder: 'Expected interest rate' },
                    { name: 'Loan Term', id: 'loanTerm', type: 'number', placeholder: 'Loan term in years' }
                ],
                calculate: function() {
                    const annualIncome = parseFloat(document.getElementById('annualIncome').value);
                    const monthlyDebt = parseFloat(document.getElementById('monthlyDebt').value);
                    const downPayment = parseFloat(document.getElementById('downPayment').value);
                    const interestRate = parseFloat(document.getElementById('interestRate').value) / 100 / 12;
                    const loanTerm = parseFloat(document.getElementById('loanTerm').value) * 12;
                    
                    // Debt-to-Income Ratio Calculation
                    const monthlyIncome = annualIncome / 12;
                    const maxMonthlyPayment = monthlyIncome * 0.36 - monthlyDebt;
                    
                    // Calculate affordable loan amount
                    const affordableLoanAmount = maxMonthlyPayment * 
                        ((Math.pow(1 + interestRate, loanTerm) - 1) / 
                        (interestRate * Math.pow(1 + interestRate, loanTerm)));
                    
                    return {
                        maxMonthlyPayment: maxMonthlyPayment.toFixed(2),
                        affordableLoanAmount: affordableLoanAmount.toFixed(2),
                        totalAffordableHomePrice: (affordableLoanAmount + downPayment).toFixed(2)
                    };
                }
            },
            'extra-payment': {
                title: 'Extra Payment Calculator',
                fields: [
                    { name: 'Original Loan Amount', id: 'originalLoanAmount', type: 'number', placeholder: 'Original loan amount' },
                    { name: 'Interest Rate', id: 'interestRate', type: 'number', placeholder: 'Annual interest rate' },
                    { name: 'Loan Term', id: 'loanTerm', type: 'number', placeholder: 'Original loan term in years' },
                    { name: 'Extra Monthly Payment', id: 'extraPayment', type: 'number', placeholder: 'Extra payment per month' }
                ],
                calculate: function() {
                    const originalLoanAmount = parseFloat(document.getElementById('originalLoanAmount').value);
                    const interestRate = parseFloat(document.getElementById('interestRate').value) / 100 / 12;
                    const loanTerm = parseFloat(document.getElementById('loanTerm').value) * 12;
                    const extraPayment = parseFloat(document.getElementById('extraPayment').value);
                    
                    // Standard monthly payment calculation
                    const standardMonthlyPayment = originalLoanAmount * 
                        (interestRate * Math.pow(1 + interestRate, loanTerm)) / 
                        (Math.pow(1 + interestRate, loanTerm) - 1);
                    
                    // Total payment with extra payment
                    const totalMonthlyPayment = standardMonthlyPayment + extraPayment;
                    
                    // Calculate new loan term and total interest saved
                    let remainingBalance = originalLoanAmount;
                    let monthsPaid = 0;
                    
                    while (remainingBalance > 0) {
                        // Apply interest
                        remainingBalance *= (1 + interestRate);
                        
                        // Subtract total monthly payment
                        remainingBalance -= totalMonthlyPayment;
                        monthsPaid++;
                        
                        // Prevent infinite loop
                        if (monthsPaid > loanTerm * 2) break;
                    }
                    
                    return {
                        originalLoanTerm: loanTerm / 12,
                        newLoanTerm: (monthsPaid / 12).toFixed(1),
                        monthsSaved: (loanTerm - monthsPaid).toFixed(0),
                        totalInterestSaved: ((loanTerm - monthsPaid) * standardMonthlyPayment * interestRate).toFixed(2)
                    };
                }
            },
            arm: {
                title: 'ARM (Adjustable Rate Mortgage) Comparison',
                fields: [
                    { name: 'Loan Amount', id: 'loanAmount', type: 'number', placeholder: 'Loan amount' },
                    { name: 'Initial Interest Rate', id: 'initialRate', type: 'number', placeholder: 'Initial interest rate' },
                    { name: 'Fixed Period', id: 'fixedPeriod', type: 'number', placeholder: 'Fixed rate period (years)' },
                    { name: 'Rate Cap', id: 'rateCap', type: 'number', placeholder: 'Maximum rate increase' },
                    { name: 'Loan Term', id: 'loanTerm', type: 'number', placeholder: 'Total loan term in years' }
                ],
                calculate: function() {
                    const loanAmount = parseFloat(document.getElementById('loanAmount').value);
                    const initialRate = parseFloat(document.getElementById('initialRate').value) / 100 / 12;
                    const fixedPeriod = parseFloat(document.getElementById('fixedPeriod').value);
                    const rateCap = parseFloat(document.getElementById('rateCap').value) / 100;
                    const loanTerm = parseFloat(document.getElementById('loanTerm').value);
                    
                    // Initial fixed-rate period calculation
                    const fixedPeriodMonths = fixedPeriod * 12;
                    const initialMonthlyPayment = loanAmount * 
                        (initialRate * Math.pow(1 + initialRate, fixedPeriodMonths)) / 
                        (Math.pow(1 + initialRate, fixedPeriodMonths) - 1);
                    
                    // Potential rate after fixed period
                    const maxAdjustedRate = initialRate * (1 + rateCap);
                    const adjustedMonthlyPayment = loanAmount * 
                        (maxAdjustedRate * Math.pow(1 + maxAdjustedRate, (loanTerm - fixedPeriod) * 12)) / 
                        (Math.pow(1 + maxAdjustedRate, (loanTerm - fixedPeriod) * 12) - 1);
                    
                    return {
                        initialMonthlyPayment: initialMonthlyPayment.toFixed(2),
                        maxAdjustedMonthlyPayment: adjustedMonthlyPayment.toFixed(2),
                        monthlyPaymentIncrease: (adjustedMonthlyPayment - initialMonthlyPayment).toFixed(2),
                        percentageIncrease: ((adjustedMonthlyPayment / initialMonthlyPayment - 1) * 100).toFixed(2)
                    };
                }
            },
            'closing-costs': {
                title: 'Closing Costs Calculator',
                fields: [
                    { name: 'Home Price', id: 'homePrice', type: 'number', placeholder: 'Home purchase price' },
                    { name: 'Loan Amount', id: 'loanAmount', type: 'number', placeholder: 'Loan amount' },
                    { name: 'Property Tax Rate', id: 'propertyTaxRate', type: 'number', placeholder: 'Annual property tax rate' },
                    { name: 'Home Insurance', id: 'homeInsurance', type: 'number', placeholder: 'Annual home insurance' },
                    { name: 'Loan Origination Fee', id: 'originationFee', type: 'number', placeholder: 'Loan origination fee percentage' }
                ],
                calculate: function() {
                    const homePrice = parseFloat(document.getElementById('homePrice').value);
                    const loanAmount = parseFloat(document.getElementById('loanAmount').value);
                    const propertyTaxRate = parseFloat(document.getElementById('propertyTaxRate').value) / 100;
                    const homeInsurance = parseFloat(document.getElementById('homeInsurance').value);
                    const originationFeeRate = parseFloat(document.getElementById('originationFee').value) / 100;
                    
                    // Closing cost calculations
                    const appraisalFee = 500;
                    const creditReportFee = 100;
                    const titleInsurance = homePrice * 0.005;
                    const originationFee = loanAmount * originationFeeRate;
                    const propertyTax = homePrice * propertyTaxRate / 12;
                    
                    const totalClosingCosts = 
                        appraisalFee + 
                        creditReportFee + 
                        titleInsurance + 
                        originationFee + 
                        (homeInsurance / 12);
                    
                    return {
                        appraisalFee: appraisalFee.toFixed(2),
                        creditReportFee: creditReportFee.toFixed(2),
                        titleInsurance: titleInsurance.toFixed(2),
                        originationFee: originationFee.toFixed(2),
                        monthlyPropertyTax: propertyTax.toFixed(2),
                        monthlyHomeInsurance: (homeInsurance / 12).toFixed(2),
                        totalClosingCosts: totalClosingCosts.toFixed(2)
                    };
                }
            }
        };

        function showCalculator(type) {
            const container = document.getElementById('calculatorContainer');
            const calculator = calculators[type];
            
            // Clear previous content
            container.innerHTML = `<h2 class="text-2xl font-bold mb-6">${calculator.title}</h2>`;
            
            // Create input fields
            calculator.fields.forEach(field => {
                const fieldDiv = document.createElement('div');
                fieldDiv.className = 'mb-4';
                fieldDiv.innerHTML = `
                    <label class="block text-gray-700 mb-2">${field.name}</label>
                    <input 
                        type="${field.type}" 
                        id="${field.id}" 
                        placeholder="${field.placeholder}" 
                        class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                `;
                container.appendChild(fieldDiv);
            });

            // Add calculate button
            const calculateBtn = document.createElement('button');
            calculateBtn.textContent = 'Calculate';
            calculateBtn.className = 'w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition duration-300';
            calculateBtn.onclick = () => {
                const results = calculator.calculate();
                displayResults(results);
            };
            container.appendChild(calculateBtn);
        }

        function displayResults(results) {
            // Create results display
            const resultsDiv = document.createElement('div');
            resultsDiv.className = 'mt-6 p-4 bg-blue-50 rounded-lg';
            
            // Convert results to readable format
            const formattedResults = Object.entries(results).map(([key, value]) => 
                `<p class="mb-2"><strong>${formatResultKey(key)}:</strong> $${value}</p>`
            ).join('');
            
            resultsDiv.innerHTML = `
                <h3 class="text-xl font-bold mb-4 text-blue-800">Calculation Results</h3>
                ${formattedResults}
            `;

            // Add results to container
            const container = document.getElementById('calculatorContainer');
            container.appendChild(resultsDiv);

            // Optional: Create chart if applicable
            createResultsChart(results);
        }

        function formatResultKey(key) {
            return key
                .replace(/([A-Z])/g, ' $1')
                .replace(/^./, str => str.toUpperCase())
        }

        function createResultsChart(results) {
            const chartContainer = document.getElementById('resultsChart');
            const chartCanvas = document.getElementById('mortgageChart');
            
            // Destroy existing chart if it exists
            if (mortgageChart) {
                mortgageChart.destroy();
            }

            // Check if we have numeric values to chart
            const numericResults = Object.entries(results)
                .filter(([key, value]) => !isNaN(parseFloat(value)))
                .map(([key, value]) => ({
                    label: formatResultKey(key),
                    value: parseFloat(value)
                }));

            if (numericResults.length > 0) {
                chartContainer.classList.remove('hidden');
                
                mortgageChart = new Chart(chartCanvas, {
                    type: 'bar',
                    data: {
                        labels: numericResults.map(r => r.label),
                        datasets: [{
                            label: 'Mortgage Calculation Results',
                            data: numericResults.map(r => r.value),
                            backgroundColor: 'rgba(54, 162, 235, 0.6)',
                            borderColor: 'rgba(54, 162, 235, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Amount ($)'
                                }
                            }
                        }
                    }
                });
            } else {
                chartContainer.classList.add('hidden');
            }
        }

        // Initialize with basic calculator
        showCalculator('basic');
    </script>
</body>
</html>
